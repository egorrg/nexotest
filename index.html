<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Тест по NEXO Knights</title>
		<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<!-- Generated by http://realfavicongenerator.net/ -->
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
		<link rel="manifest" href="/manifest.json">
		<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
		<meta name="theme-color" content="#ffffff">
	</head>
	<body>
		<div class="container-fluid">
			<div class="row">
				<div class="col-md-12">
					<h1>
					<img src="https://4.bp.blogspot.com/-dfiPo2hJ1so/V1qeVzY5CwI/AAAAAAAAAJM/xxPxFG0jTWQIIG_WjUrdy8y0PuOfMMj9wCLcB/s1600/1.png" height="64">
					Тест по NEXO Knights</h1>
				</div>
			</div>

			<div class="row">
				<div class="col-md-12">
					<p>Вы пройдёте тест из десяти заданий. Задания будут не сложные, но оценки очень строгие и точные.</p>
				</div>
			</div>

			<div class="form-horizontal">

				<div class="form-group">
					<span class="col-md-4 control-label">Самый главный рыцарь в команде: </span>
					<div class="col-md-4">
						<input type="text" size="20" class="form-control question-knight" placeholder="Имя...">
					</div>
				</div>
				<div class="form-group">
					<span class="col-md-4 control-label">Принцесса ставшая рыцарем: </span>
					<div class="col-md-4">
					<input type="text" size="20" class="form-control col-md-4 question-women-knight"  placeholder="Имя...">
					</div>
				</div>
				<div class="form-group">
					<span class="col-md-4 control-label">Рыцарь в белых доспехах, так называемый "блестящий" рыцарь: </span>
					<div class="col-md-4"><input type="text" size="20" 
				class="form-control question-bright-knight" placeholder="Имя...">
					</div>
				</div>
				<div class="form-group">
					<span class="col-md-4 control-label">Рыцарь в зелёных доспехах, любит летать на своём щите: </span>
					<div class="col-md-4"><input type="text" size="20"  class="form-control question-flying-knight" placeholder="Имя...">
					</div>
				</div>
				<div class="form-group">
					<span class="col-md-4 control-label">Вечно голодный рыцарь: </span>
					<div class="col-md-4"><input type="text" size="20"  class="form-control question-hungry-knight" placeholder="Имя...">
					</div>
				</div>
				<div class="form-group">
					<span class="col-md-4 control-label">Злой маг который стал облаком: </span>
					<div class="col-md-4"><input type="text" size="20" class="form-control question-cloud-mage" placeholder="Имя...">
					</div>
				</div>
				<div class="form-group">
					<span class="col-md-4 control-label">Монстры которые восстали из скал: </span>
					<div class="col-md-4"><input type="text" size="20" class="form-control question-rock-monster" placeholder="Имя...">
					</div>
				</div>
				<div class="form-group">
					<span class="col-md-4 control-label">Предводитель всех каменных монстров: </span>
					<div class="col-md-4"><input type="text" size="20" class="form-control question-rock-leader" placeholder="Имя...">
					</div>
				</div>
				<div class="form-group">
					<span class="col-md-4 control-label">Старший брат Рикса и Руга: </span>
					<div class="col-md-4"><input type="text" size="20" class="form-control question-brother-riks-ruga" placeholder="Имя...">
					</div>
				</div>
				<div class="form-group">
					<span class="col-md-4 control-label">Самый страшный монстр из всех: </span>
					<div class="col-md-4"><input type="text" size="20" class="form-control question-scariest-monster" placeholder="Имя...">
					</div>
				</div>
				
			</div>

			<div class="row">
				<div class="col-md-4">
					<button class="calc">Сдать тест!</button>
				</div>
			</div>

			<script src="http://code.jquery.com/jquery-2.2.4.min.js"></script>
			<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

			<script>
				$(function () {
					function calcBall() {
						var correct = {
							"cloud-mage": "Монстрокс",
							"scariest-monster": "Руина",
							"rock-leader": "Джестро",
							"brother-riks-ruga": "Рамбл",
							"rock-monster": "Гримрок",
							"flying-knight": "Аарон",
							"hungry-knight": "Аксель",
							"bright-knight": "Ланс",
							"women-knight": "Мэйси",
							"knight": "Клэй"
						}

						var sum = 0;
						$("input").each(function (idx, e) {
							var n = String(e.className);
							if (n.indexOf("question-")) {
								n = n.substring(n.indexOf("question-"));
								n = n.substring(n.indexOf("-") + 1);
							}

							var c = String(correct[n]).toLowerCase().trim();
							var v = String($(e).val()).toLowerCase().trim();
							sum += c == v ? 10 : 0;
						})

						return sum;
					}

					$("button.calc").on("click", function () {
						var sum = calcBall();
						if (sum >= 90 && sum <= 100) {
							$(".resultSuccess").css("display", "block")
							$(".resultBad").css("display", "none")
							window.location.hash = '#resultSuccess';
						} else {
							$(".resultSuccess").css("display", "none")
							$(".resultBad").css("display", "block")
							window.location.hash = '#resultBad';
						}
					})
				})
			</script>
		</div>

		<div class="row">
			<div class="col-md-4">
				<div class="resultSuccess" id="resultSuccess" style="display: none">
					<h2>Поздравляю!</h2>
					<p>Вы успешно прошли тест!</p>
					<img src="giphy.gif" style="width: 100%">
				</div>

				<div class="resultBad" id="resultBad" style="display: none">
					<h2>Плохо!</h2>
					<p>Тест не пройден!</p>
					<img src="bad.gif" style="width: 100%">
				</div>
			</div>
		</div>


	</body>
</html>